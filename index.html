<!DOCTYPE html>

<html>
<head>
	<meta charset='utf-8' />
	<title>2D Breakout pure JS Canvas</title>
<style>
	* { padding: 0; margin: 0; }
	canvas { background: #eee; display: block; margin: 0 auto; }
</style>
</head>
<body>

<canvas id='myCanvas' width='480' height='320'></canvas>

<script>
	// JavaScript code goes here
	// Grab reference to the canvas for scripting
	var canvas	= document.getElementById("myCanvas");
	var ctx			= canvas.getContext("2d");
	var x				= canvas.width / 2;
	var y				= canvas.height - 30;
	var dx			= 1;
	var dy			= -3;
	var ballRadius = 10;
	var interval = 10;
	var top 		= y + dy < ballRadius;
	var bottom  = canvas.height - ballRadius;
	var left    = x + dx < ballRadius;
	var right   = canvas.width - ballRadius;

// Draw a ball 
	function drawBall() {
		ctx.beginPath();
		ctx.arc(x, y, ballRadius, 0, Math.PI*2);
		ctx.fillStyle = "#0095DD";
		ctx.fill();
		ctx.closePath();
	}
	
	// Keep animated ball from leaving our canvas 'box'
	function collisionDetect() {

		// Reverse X-Axis direction if we hit right/left edge of our canvas 'box'
		if (x + dx > right || left) {
			dx = -dx;
		}
		// Reverse Y-Axis direction if we hit top/bottom edge of our canvas 'box'
		if (y + dy > bottom || top) {
			dy = -dy;
		}

		// Move the ball accordingly
		x += dx;
		y += dy;
	}

	// Animate the ball - yay!
	function draw() {
		// clear canvas before each redraw 
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		drawBall();
		collisionDetect();
	}

	setInterval(draw, interval);

</script>

</body>
</html>
